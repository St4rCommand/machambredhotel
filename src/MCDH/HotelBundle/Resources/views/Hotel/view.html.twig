{%  extends "MCDHHotelBundle:Hotel:layout.html.twig" %}

{% block title %}
  {{ hotel.name }} - {{ parent() }}
{% endblock %}


{% block mcdh_hotel_content %}

	{{ parent() }}
	
	{% if hotel.image.uploadDir is defined %}
		<img
			src="{{ asset(hotel.image.uploadDir ~ '/' ~ hotel.image.id ~ '.' ~ hotel.image.extension) }}"
			alt="{{ hotel.image.alt }}"
		/>
	{% endif %}
	
	<p>{{ hotel.description }}</p>
		
	<ul class="row list-group">
		{% for room in rooms %}
	      <li class="row list-group-item">
	        
	        <div class="col-lg-9 col-sm-7">
	        	<a href="{{ path('mcdh_hotel_view_room', {'idRoom': room.id}) }}"> {{ room.name }}</a>
				{{ room.price|number_format(2, ',', ' ') }} €
	        </div>
	        
	        <div class="col-lg-3">
	        
	        {% if is_granted('ROLE_CUSTOMER') %}
		    	<a href="{{ path('mcdh_hotel_add_booking', {'idRoom':room.id}) }}" class="button btn-success btn-sm active" role="button">Réserver</a>
  			{% endif %}
	        
	        {% if is_granted('ROLE_HOTELKEEPER') %}
		       <a href="{{ path('mcdh_hotel_edit_room', {'idRoom': room.id}) }}" class="button btn-warning btn-sm active" role="button">Editer</a>
  			{% endif %}
  			
	        {% if is_granted('ROLE_ADMIN') %}
		        <a href="{{ path('mcdh_hotel_delete_room', {'idRoom': room.id}) }}" class="button btn-danger btn-sm active" role="button">Supprimer</a>
  			{% endif %}
		    </div>
	      </li>
	    {% else %}
	      <li>Pas (encore !) de chambres pour cet hôtel.</li>
	    {% endfor %}
	</ul>
	
{% endblock %}
  
